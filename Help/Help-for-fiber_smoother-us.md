# Help for the function <i>fiber_smoother_us</i>, v. 0.1.x

## Introduction

This help file contains information about
1) [Purpose of the program](https://github.com/bdamon/MuscleUS_Toolbox/blob/master/Help/Help-for-fiber_smoother_us.md#1-purpose)
2) [Usage of the program](https://github.com/bdamon/MuscleUS_Toolbox/blob/master/Help/Help-for-fiber_smoother_us.md#2-usage)
3) [Syntax](https://github.com/bdamon/MuscleUS_Toolbox/blob/master/Help/Help-for-fiber_smoother_us.md#3-Syntax)
4) [Example Code](https://github.com/bdamon/MuscleUS_Toolbox/blob/master/Help/Help-for-fiber_smoother_us.md#4-Example-Code)
5) [Acknowledgements](https://github.com/bdamon/MuscleUS_Toolbox/blob/master/Help/Help-for-fiber_smoother_us.md#5-Acknowledgements)

## 1. Purpose
 
The function <i>fiber_smoother_us</i> is used to smooth fiber tracts and increase the spatial resolution of fiber tracts generated using the MuscleUS_Toolbox.

[Back to the top](https://github.com/bdamon/MuscleUS_Toolbox/blob/master/Help/Help-for-fiber_smoother_us.md)

## 2. Usage
The user inputs the fiber tracts generated by fiber_track_us, a structure containing the image metadata, and a structure with options for implementing the polynomial fitting routines.  The {row column} positions are separately fitted to N<sup>th</sup>-order polynomials as functions of pixel-distance along the tract. The user selects the polynomial order separately for the row and column positions. Also, the fiber tract positions are converted to units of mm and the polynomial fitting procedures are repeated, now for {X Y} positions. 

For both fitting procedures, The function returns the smoothed fiber tracts and matrices containing the polynomial coefficients for each tract

[Back to the top](https://github.com/bdamon/MuscleUS_Toolbox/blob/master/Help/Help-for-fiber_smoother_us.md)

## 3. Syntax

[smoothed_fiber_all_pixels, smoothed_fiber_all_mm, coeff_c_pixels, coeff_r_pixels, coeff_x_mm, coeff_y_mm] = ...
    fiber_smoother_us(fiber_all, image_info_struc, fs_options, image_doub, roi_struc);

The input arguments are:
 
* <i>fiber_all</i>: The original fiber tracts, with units ofpixels, output from [<i>fiber_track_us</i>](https://github.com/bdamon/MuscleUS_Toolbox/blob/master/Help/Help-for-fiber_track_us.md)

* <i>image_info_struc</i>: A structure containing image metadata, output from [<i>read_dicom_us</i>](https://github.com/bdamon/MuscleUS_Toolbox/blob/master/Help/Help-for-read_dicom_us.md)

* image_info_struc: A structure containing image metadata, output from read_dicom_us

[Back to the top](https://github.com/bdamon/MuscleUS_Toolbox/blob/master/Help/Help-for-fiber_quantifier_us.md)

## 4. Example Code
The code below will measure fiber tract length, pennation angle, and curvature in polynomial-fitted fiber tracts

%% call the function:

[penn_mean, tract_lengths, curvature_mean, curvature_all] = fiber_quantifier_us(smoothed_fiber_all_mm, roi_struc, image_info_struc);

[Back to the top](https://github.com/bdamon/MuscleUS_Toolbox/blob/master/Help/Help-for-fiber_quantifier_us.md)

## 5. Acknowledgements
 People: Bruce Damon, Hannah Kilpatrick
 
 Grant support: NIH/NIAMS R01 AR073831

[Back to the top](https://github.com/bdamon/MuscleUS_Toolbox/blob/master/Help/Help-for-fiber_smoother_us.md)
